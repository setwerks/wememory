Cursor Prompt Workflow for Building WeMemory
ğŸŸ© PHASE 1: Monorepo Bootstrapping

Prompt 1 â€“ Initial Setup

    Help me set up a monorepo with apps/web (React + Vite), apps/mobile (Expo + React Native), and shared packages (packages/types, packages/lib, packages/ui). Use Turborepo conventions.

Prompt 2 â€“ Supabase Client

    Create a shared Supabase client in packages/lib/supabase.ts that works across mobile and web, using environment variables.

Prompt 3 â€“ Shared Types

    Define TypeScript types in packages/types/memory.ts for EventThread, Memory, and emotion tags. Sync them to Supabase schema.

ğŸŸ¨ PHASE 2: Event Threads + Memory Backend

Prompt 4 â€“ Data Fetching Hook

    Build a React hook called useEventThreads() in packages/event-threads that fetches public or user-owned events from Supabase.

Prompt 5 â€“ Nearby Events

    Add support to useEventThreads() for filtering by location. Use geography filtering with PostGIS if available.

Prompt 6 â€“ Create Event Flow

    Build a React component in apps/web/src/pages/create-event.tsx to create an event thread. Form should include title, description, tags, date range, and location.

ğŸŸ¦ PHASE 3: Media Upload and Memory Posting

Prompt 7 â€“ Memory Uploader (Mobile)

    In apps/mobile, create a screen that lets a user upload a memory tied to an event_id, compressing the video before upload using react-native-compressor.

Prompt 8 â€“ Media Upload Handler (Web)

    Create a component for uploading images or short videos via drag-and-drop in apps/web, compressing video using ffmpeg.wasm before upload.

Prompt 9 â€“ Supabase Storage Uploads

    Add a shared helper in packages/lib/upload.ts to upload media to Supabase Storage, and return a public URL.

Prompt 10 â€“ Thumbnail Generator

    For mobile, generate and upload a thumbnail from the video using expo-video-thumbnails. Add to Memory record in Supabase.

ğŸŸ« PHASE 4: Displaying Memory Threads

Prompt 11 â€“ Memory Thread Viewer (Web)

    Build a timeline view for /event/[id].tsx that shows all public memories tied to an event_id, sorted by time. Include thumbnails, content, and emotion tags.

Prompt 12 â€“ Mobile Viewer

    Create a mobile screen that shows the same memories as a vertical scrollable list with thumbnails and expandable full memory views.

ğŸŸ¥ PHASE 5: Auth + Access Control

Prompt 13 â€“ Supabase Auth Integration

    Add Supabase email/password auth for now, and structure auth.ts in shared package to support Phantom and WalletConnect login later.

Prompt 14 â€“ RLS Enforcement

    Make sure all memory and event access checks (e.g., public vs private vs owned) are enforced in Supabase and respected in UI.

ğŸŸ§ PHASE 6: Future Enhancements

Prompt 15 â€“ Time Capsule Support

    Add ability to schedule memories for future reveal (i.e. release_at field), and hide them from view until that date.

Prompt 16 â€“ Emotion Tag Filtering

    Allow users to filter a memory thread by emotion tags like "joy", "awe", "grief".

Prompt 17 â€“ Memory Map

    Build a visual map using memory location points for a shared event (e.g. all 9/11 memories around NYC).

âœ… Bonus Tips for Cursor Usage

    When stuck:

        â€œWhatâ€™s the best way to do X in this codebase?â€
        Cursor will trace imports and help navigate better than ChatGPT here.

    For edge cases:

        â€œAdd error handling and loading state to this memory uploader.â€

    To optimize:

        â€œRewrite this upload logic to support parallel media uploads and thumbnail generation.â€